:set prompt "> "
:set -XOverloadedStrings
:set -XDataKinds
:set -XExplicitForAll
:set -XGADTs
:set -XTypeFamilies
:set -XTypeOperators
:set -XPolyKinds
:set -XKindSignatures
:set -XTemplateHaskell
:set +m
:set -fprint-explicit-foralls
:set -fprint-explicit-kinds
:set -fprint-expanded-synonyms
:set -ddump-deriv
:set -ddump-splices

import Control.Monad (void, forever, (=<<), (>=>))
import Data.Foldable (foldrM)
import Data.IORef
import Data.Data
import Data.Proxy
import Control.Debounce (mkDebounce, defaultDebounceSettings, DebounceSettings (..))
import Control.Concurrent (threadDelay)
import Control.Concurrent.Async (async)
import Control.Exception.Safe (catch)
import Control.Exception (BlockedIndefinitelyOnMVar)
import Control.Monad.IO.Class
import Control.Concurrent.STM.TBMChan
import qualified Control.Concurrent.Chan.Unagi as U
import qualified Control.Concurrent.Chan.Unagi.Bounded as BU
import qualified Data.Text.Lazy as TL
